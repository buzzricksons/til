# ペアプログラミング
ペアプログラミングについて、〇〇の開発メンバーの過去の実践を踏まえてまとめます。

## 概要
### ペアプログラミングとは
アジャイル開発手法のひとつ、XP(Extreme Programing)の特徴的なプラクティス
- 本来は、[XP](https://ja.wikipedia.org/wiki/%E3%82%A8%E3%82%AF%E3%82%B9%E3%83%88%E3%83%AA%E3%83%BC%E3%83%A0%E3%83%BB%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0)の他のプラクティスとセット
- XP以外の[IID手法](https://ja.wikipedia.org/wiki/%E5%8F%8D%E5%BE%A9%E5%9E%8B%E9%96%8B%E7%99%BA)にも利用できるとされる

### ローカルルール
- 1時間毎に10分休憩し、タイプ担当を交代する。その時、机も移動する。
- 11時開始で19時終了。ペアでの残業はしない。
    - 開始と終了の時間はペア合意の上で調整してもよいが、延長してはいけない。
    - 上記時間外に業務をする場合、ペアでのタスクに取り組んではいけない。（一人が勝手に進めるとペアの意味がありません！）

### ペアプログラミングの狙い
基本的には以下になる。
- 不断・継続的なレビュー
- ソースコードの共有

詳細は[ペアプログラミング](https://ja.wikipedia.org/wiki/%E3%83%9A%E3%82%A2%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0)でも。

### ペアプログラミングの肝
- 二人で1台のPCを使うことが必須。
    - 慣れないと違和感を感じるが、これをしないとメリットは何も得られない
- 交代でコーディングするのではない。
    - 二人で記述内容を合意して決定し、一人が代表してタイピングをするだけ
- チューター制や徒弟制ではない。
    - 動的ペア。ペアの前にチーム。

## ペア構成別の事例分析
### ベテランとベテランのペア
#### 懸念事項
- 一人でも仕事が出来る開発者
- 排他的にしかコーディングできない
>・・・リソースが無駄になるのではないか？

#### 結果
- モノが出来上がってくるペースは、**一人の場合と同等かやや速い程度（つまり工数上は遅い）**。ただし、「的外れ」であることが少ない
- 設計が良くなる
    - 個人の趣味嗜好癖が相殺される
    - 無駄な拘りが無くなる
    - 知恵の集約
- 問題のエスカレーションが早い
    - 「二人ともわからないならもうしょうがないよね」

#### 評価
- 良いペアは、相互に**創造性を高める**。
    - 結果、品質の向上や価値の増大をもたらす。
    - いわゆる**「製造」的な部分のみなら、遅くなる**
- 要件定義～品質確保、将来の保守まで見越して対象と考えるならば、効率が良い

また、補足として、

- 排他的なのはタイピングのみなので、リソースは無駄にはならない
- しかし“速度”は落ちる

実際、あるフェーズで品質や改善よりも実装を優先した際、一時はペアを解除した。

言い方を変えて、あくまでも人日単位で表現すれば、このペアは、「優秀な二人と引き換えに、さらに優秀な一人を得た」ということ。ただし本当に人員交換でそれをやる場合よりは、チーム運営上の多くのメリットがある。

### ベテランとビギナーのペア
#### 懸念
- ベテランのコーディング時間が半減し、生産性が下がるのではないか？
- ビギナーには、やることが何もないのではないか？

#### 結果
ビギナーからは、以下のような声が聞かれた。
- 会話を通して、自身の癖や考え方がわかった
- 問題解決の勘所（タイミングと方法）が掴めた
- 仕様書通りに作るのではないので、要件や設計について考えるようになった
    - **モチベーションの改善をともなう**

一方、ベテランからは以下のような声が聞かれた。

- ビギナーの学習効果が高いことを実感
- ビギナーにも意見表明の機会と意欲が生じた
- ベテランには、ビギナーの知識不足を補う姿勢が必要だ
- ベテラン側は説明能力が求められる。自ら改善していく姿勢が大事

こちらも、個人成績ではなく、チームとしての活動へのモチベーションの改善が見られる。

#### 教育的効果について
- 実践の場で手を動かしており、教科書をなぞるような、あるいは「実用には耐えないサンプル」を書くような学習とは深さが違う。
- 少なくともその時点で実践に必要なすべての知識に対する学習機会がある。
- 教育者としてのベテラン
    - 教育的態度を自覚的にとれるか
    - そのような振る舞いを出来る余裕があるか
    - 〇〇の事例では、ベテランがコーディングすると実態がペアじゃなくなるという危惧から、（本人からの提案で）一定期間、ベテランは一切のコーディングを止めた。
- 「要件定義から」
    - 教育的効果は検討過程のコミュニケーションでより大きく現れる
    - 設計書どおりに作るだけの製造工程なら検討過程はない。そのような場合は効果は薄れる。

## ペアプログラミングの効果
- 悪いことが起こりにくくなり、良いことが起こりやすくなる
- 少なくとも「製造」のみなら生産性は下がるが、近い将来（翌日でも）の生産性に貢献する
- PM含めて「どの一人でも思いつけないアイデア」が現れる
- 教育的効果は高い
- ベテラン同士なら尚高いレベルで発揮される
- モチベーションの強化

## ペアプログラミングの注意
- 単純に生産性が上がるものではない。
    - 良い効果はIIDの他のプラクティスとの相乗効果でこそ得られる
- 特に最初は我慢も必要。
    - 他人との意思疎通は楽ではない
- 時間を守る。休憩をとり残業をしない。
    - 勝手に息抜きできないので、集中度が上がり、疲れる。
    - 作業する＝相手を拘束する
- XPのプラクティスとして効果を発揮する。
    - 完全ではなくても、それに近い形態でなければ良い効果は得にくい
    - 少なくともIIDへの適用は効果的であるとされる
- 考えるところでペアの効果が発揮される
    - 開発者に考え、判断することを要求する進め方を。
- ペアへの要求の伝え方
    - 考える余地がないと、考えられない。
    - 実装から離れた要求（ユーザストーリーなど）
- ペアがレビューしているから、他にレビューしなくていいわけではない。
    - 全体の設計や品質に責任を持つ者がレビューすることは勿論、必要。**ペアのレビューは上長の代わりではない**。